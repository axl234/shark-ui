<style type="text/css">
#myfileupload {
    width: 100px;
    height: 100px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
    background-color: #4a9ce2;
    color: #ffffff;
    border-radius: 10px;
    font-size: 14px;
    cursor: pointer;
}
</style>
<div id="myfileupload">选择文件</div>
<p>文件名: <span style="color:red;" id="filename"></span></p>
<p>上传进度: <span style="color:red;" id="progress"></span></p>
<button class="btn btn-primary" id="uploadBtn">开始上传</button>
<script type="text/javascript">
$(function() {
    var filename = $('#filename');
    var myprogress = $('#progress');
    var myfileupload = $('#myfileupload').sharkFileupload({
        autoupload: false,
        url: '',
        accept: '',
        dragable: true,
        onSelected: function(file) {
            filename.text(file.name);
        },
        onUploading: function(file, percent) {
            myprogress.text(percent);
        },
        onUploaded: function(file, res) {
            console.log('上传成功');
        },
        onFailed: function(file, error) {
            console.log('上传失败');
        }
    });
    // var myfileupload = $.fn.sharkFileupload({
    //     autoupload: false,
    //     url: '',
    //     accept: '',
    //     dragable: true,
    //     onSelected: function(file) {
    //         filename.text(file.name);
    //     },
    //     onUploading: function(file, percent) {
    //         myprogress.text(percent);
    //     },
    //     onUploaded: function(file, res) {
    //         console.log('上传成功');
    //     },
    //     onFailed: function(file, error) {
    //         console.log('上传失败');
    //     }
    // });
    // $('#myfileupload').append(myfileupload.component);
    $('#uploadBtn').on('click', function() {
        myfileupload.upload('/shark-ui/xhr/file/upload.do', {
            id: 12345
        }).then(function(res) {
            console.log(res);
        }, function(evt) {
            console.log(evt);
        });
    });
});
</script>
